---
title: Create Webhook
api: POST /api/v1/webhooks
description: "Create a new webhook"
---

# Create Webhook

Create a new webhook to receive event notifications.

<Note>Requires `write:webhooks` scope.</Note>

## Request

```bash
POST /api/v1/webhooks
```

### Body Parameters

<ParamField body="name" type="string" required>
  Webhook name (for identification)
</ParamField>

<ParamField body="url" type="string" required>
  HTTPS URL to receive webhook events
</ParamField>

<ParamField body="events" type="array" required>
  Array of event types to subscribe to
</ParamField>

<ParamField body="description" type="string">
  Description of the webhook purpose
</ParamField>

<ParamField body="headers" type="object">
  Custom headers to include in webhook requests
</ParamField>

<ParamField body="timeout_ms" type="integer" default="30000">
  Request timeout in milliseconds
</ParamField>

<ParamField body="retry_count" type="integer" default="3">
  Number of retry attempts on failure
</ParamField>

<ParamField body="retry_delay_ms" type="integer" default="1000">
  Delay between retries in milliseconds
</ParamField>

## Example

```bash
curl -X POST "https://api.zenflow.com.ar/api/v1/webhooks" \
  -H "X-API-Key: zenflow_live_your_key" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Order Notifications",
    "description": "Send order events to ERP",
    "url": "https://example.com/webhooks/zenflow",
    "events": ["order.created", "order.updated", "order.completed"],
    "headers": {
      "X-Custom-Header": "custom-value"
    }
  }'
```

### Response

```json
{
  "success": true,
  "data": {
    "id": "wh_abc123",
    "name": "Order Notifications",
    "url": "https://example.com/webhooks/zenflow",
    "events": ["order.created", "order.updated", "order.completed"],
    "active": true,
    "secret": "whsec_a1b2c3d4e5f6..."
  }
}
```

<Warning>
  The `secret` is only returned once when creating the webhook. Store it
  securely - you'll need it to verify webhook signatures.
</Warning>

## Error Responses

### 400 Validation Error

```json
{
  "success": false,
  "error": {
    "code": "validation_error",
    "message": "At least one event must be selected"
  }
}
```

### 400 Invalid URL

```json
{
  "success": false,
  "error": {
    "code": "validation_error",
    "message": "Invalid webhook URL. Must be a valid HTTP/HTTPS URL."
  }
}
```

### 400 Invalid Events

```json
{
  "success": false,
  "error": {
    "code": "validation_error",
    "message": "Invalid events. Valid events are: order.created, order.updated, ..."
  }
}
```
