---
title: Actualización Masiva de Stock
api: POST /api/v1/stock/bulk
description: "Actualizar niveles de stock para múltiples productos"
---

# Actualización Masiva de Stock

Actualiza los niveles de stock de múltiples productos en una sola solicitud.

<Note>Requiere scope `write:stock`.</Note>

## Solicitud

```bash
POST /api/v1/stock/bulk
```

### Parámetros del Body

<ParamField body="updates" type="array" required>
  Array de actualizaciones de stock
  <Expandable title="propiedades de actualización">
    <ParamField body="product_id" type="integer">
      ID del producto (o usar sku)
    </ParamField>
    <ParamField body="sku" type="string">
      SKU del producto (alternativa a product_id)
    </ParamField>
    <ParamField body="location_id" type="string" required>
      ID de la ubicación
    </ParamField>
    <ParamField body="quantity" type="number" required>
      Nueva cantidad de stock
    </ParamField>
  </Expandable>
</ParamField>

## Ejemplo

```bash
curl -X POST "https://api.zenflow.com.ar/api/v1/stock/bulk" \
  -H "X-API-Key: zenflow_live_your_key" \
  -H "Content-Type: application/json" \
  -d '{
    "updates": [
      {
        "sku": "SKU-001",
        "location_id": "LOC-A1",
        "quantity": 100
      },
      {
        "sku": "SKU-002",
        "location_id": "LOC-A1",
        "quantity": 50
      },
      {
        "product_id": 103,
        "location_id": "LOC-B1",
        "quantity": 25
      }
    ]
  }'
```

### Respuesta

```json
{
  "success": true,
  "data": {
    "success": 3,
    "errors": []
  }
}
```

### Respuesta con Errores

```json
{
  "success": true,
  "data": {
    "success": 2,
    "errors": [
      {
        "product_id": 0,
        "error": "Producto con SKU SKU-INVALIDO no encontrado"
      }
    ]
  }
}
```

## Mejores Prácticas

- Agrupa actualizaciones en lotes de 100 para rendimiento óptimo
- Usa SKU para identificación si no tienes los IDs de producto
- El endpoint continúa procesando aunque algunos items fallen
