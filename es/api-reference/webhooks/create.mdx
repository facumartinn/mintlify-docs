---
title: Crear Webhook
api: POST /api/v1/webhooks
description: "Crear un nuevo webhook"
---

# Crear Webhook

Crea un nuevo webhook para recibir notificaciones de eventos.

<Note>Requiere scope `write:webhooks`.</Note>

## Solicitud

```bash
POST /api/v1/webhooks
```

### Parámetros del Body

<ParamField body="name" type="string" required>
  Nombre del webhook (para identificación)
</ParamField>

<ParamField body="url" type="string" required>
  URL HTTPS para recibir eventos del webhook
</ParamField>

<ParamField body="events" type="array" required>
  Array de tipos de eventos a suscribir
</ParamField>

<ParamField body="description" type="string">
  Descripción del propósito del webhook
</ParamField>

<ParamField body="headers" type="object">
  Headers personalizados para incluir en las solicitudes del webhook
</ParamField>

<ParamField body="timeout_ms" type="integer" default="30000">
  Timeout de solicitud en milisegundos
</ParamField>

<ParamField body="retry_count" type="integer" default="3">
  Número de intentos de reintento en caso de fallo
</ParamField>

<ParamField body="retry_delay_ms" type="integer" default="1000">
  Delay entre reintentos en milisegundos
</ParamField>

## Ejemplo

```bash
curl -X POST "https://api.zenflow.com.ar/api/v1/webhooks" \
  -H "X-API-Key: zenflow_live_your_key" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Notificaciones de Pedidos",
    "description": "Enviar eventos de pedidos al ERP",
    "url": "https://example.com/webhooks/zenflow",
    "events": ["order.created", "order.updated", "order.completed"],
    "headers": {
      "X-Custom-Header": "valor-personalizado"
    }
  }'
```

### Respuesta

```json
{
  "success": true,
  "data": {
    "id": "wh_abc123",
    "name": "Notificaciones de Pedidos",
    "url": "https://example.com/webhooks/zenflow",
    "events": ["order.created", "order.updated", "order.completed"],
    "active": true,
    "secret": "whsec_a1b2c3d4e5f6..."
  }
}
```

<Warning>
  El `secret` solo se devuelve una vez al crear el webhook. Guárdalo de forma
  segura - lo necesitarás para verificar las firmas del webhook.
</Warning>

## Respuestas de Error

### 400 Error de Validación

```json
{
  "success": false,
  "error": {
    "code": "validation_error",
    "message": "Se debe seleccionar al menos un evento"
  }
}
```

### 400 URL Inválida

```json
{
  "success": false,
  "error": {
    "code": "validation_error",
    "message": "URL de webhook inválida. Debe ser una URL HTTP/HTTPS válida."
  }
}
```

### 400 Eventos Inválidos

```json
{
  "success": false,
  "error": {
    "code": "validation_error",
    "message": "Eventos inválidos. Los eventos válidos son: order.created, order.updated, ..."
  }
}
```
